<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Vampuca AI Graphic Novel Player</title>
  <meta name="description" content="Vampuca AI interactive graphic novel player with chapters">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/purecss/2.1.0/pure-min.css" />
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
  <style>
    body, html { margin:0; padding:0; height:100%; overflow:hidden; background:#000; color:#fff; font-family:sans-serif; }
    #playerContainer { position:relative; width:100vw; height:100vh; background:#000; }
    .plyr__video-wrapper { width:100%; height:100%; }
    #controls { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); display:flex; gap:12px; z-index:10; }
    button { background:rgba(0,0,0,0.6); border:none; color:#fff; padding:8px 12px; cursor:pointer; border-radius:4px; }
  </style>
</head>
<body onload="if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) setTimeout(()=>window.scrollTo(0,1),100);">
  <div id="playerContainer">
    <video id="player" playsinline webkit-playsinline controls crossorigin>
      <source src="" type="video/mp4" />
    </video>
    <div id="controls">
      <button id="prev">Prev</button>
      <button id="next">Next</button>
      <button id="fullscreen">â¤¢</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/screenfull.js/5.2.0/screenfull.min.js"></script>
  <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
  <script>
    const videoData = [
      { title: 'Title', url: 'https://raw.githubusercontent.com/vampuca/vampuca_player/main/KLKT_title.m4v' },
      ...Array.from({ length: 19 }, (_, i) => ({ title: `Slide ${i+1}`, url: `https://raw.githubusercontent.com/vampuca/vampuca_player/main/KLKT${i+1}.m4v` })),
      { title: 'End', url: 'https://raw.githubusercontent.com/vampuca/vampuca_player/main/KLKT_end.m4v' }
    ];
    let index = 0;
    const player = new Plyr('#player', { clickToPlay: true });
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const fsBtn = document.getElementById('fullscreen');

    function loadVideo(i) {
      index = i;
      player.source = { type: 'video', sources: [{ src: videoData[i].url, type: 'video/mp4' }] };
      player.play();
    }

    prev.addEventListener('click', () => { if (index > 0) loadVideo(index - 1); });
    next.addEventListener('click', () => { if (index < videoData.length - 1) loadVideo(index + 1); });
    fsBtn.addEventListener('click', () => { if (screenfull.isEnabled) screenfull.toggle(document.getElementById('playerContainer')); });

    loadVideo(0);
  </script>
</body>
</html>
